<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>修改密码 | UI2.0</title>

  <link href="http://enjoy-skins.oss-cn-hangzhou.aliyuncs.com/ued/1.0/framework/styles/kendo.common.min.css" rel="stylesheet">
  <link href="http://enjoy-skins.oss-cn-hangzhou.aliyuncs.com/ued/1.0/framework/styles/kendo.default.min.css" rel="stylesheet">
  <link href="http://enjoy-skins.oss-cn-hangzhou.aliyuncs.com/ued/1.0/iconfont/iconfont.css" rel="stylesheet">
  <link href="http://enjoy-skins.oss-cn-hangzhou.aliyuncs.com/ued/1.0/skins/template1/css/skin.css" rel="stylesheet">
  <link href="http://enjoy-skins.oss-cn-hangzhou.aliyuncs.com/ued/1.0/skins/template1/css/animate.css" rel="stylesheet">
  <script src="http://enjoy-skins.oss-cn-hangzhou.aliyuncs.com/ued/1.0/framework/js/jquery.min.js"></script>
  <script src="http://enjoy-skins.oss-cn-hangzhou.aliyuncs.com/ued/1.0/framework/js/kendo.custom.min.js"></script>
  <script src="http://enjoy-skins.oss-cn-hangzhou.aliyuncs.com/ued/1.0/framework/js/messages/kendo.messages.zh-CN.min.js"></script>
  <script src="http://enjoy-skins.oss-cn-hangzhou.aliyuncs.com/ued/1.0/framework/js/cultures/kendo.culture.zh-CN.min.js"></script>
  <script src="http://enjoy-skins.oss-cn-hangzhou.aliyuncs.com/ued/1.0/js/ext.js"></script>

  <script src="http://enjoy-skins.oss-cn-hangzhou.aliyuncs.com/ued/1.0/skins/template1/js/main.js"></script>

</head>

<body>
  <form id="_sub_layout" class="dialog-form" method="post" action="/security/password/modify">
    <div id="_sub_layout_middle">
      <table width="100%" class="form-table">
        <tr>
          <td width="110" class="label">原始密码：</td>
          <td width="200">
            <input class="k-textbox" type="password" name="password" value="" placeholder="请输入密码">
          </td>
          <td></td>
        </tr>
        <tr>
          <td width="110" class="label">新密码：</td>
          <td width="200">
            <input class="k-textbox" type="password" name="newPassword" value="" placeholder="请输入新密码">
          </td>
          <td></td>
        </tr>
        <tr>
          <td width="110" class="label">确认密码：</td>
          <td width="200">
            <input class="k-textbox" type="password" name="new2Password" value="" placeholder="请再次输入">
          </td>
          <td></td>
        </tr>
      </table>
    </div>
    <div id="_sub_layout_bottom">
      <div class="footer text-center p-xs">
        <button class="k-button btn-primary" type="submit">
          <i class="iconfont icon-dui"></i>&nbsp;确定
        </button>
        &nbsp; &nbsp; &nbsp;
        <button class="k-button btn-white" type="reset">
          <i class="iconfont icon-cuowu"></i>&nbsp;取消
        </button>
      </div>
    </div>
  </form>
  <script type="text/javascript">
    $(document).ready(function() {
      $("form").kendoExtValidator({
        validations: {
          "password": {
            "required": {
              "message": "{kendo.validation.messages.NotBlank}"
            }
          },
          "new2Password": {
            "required": {
              "message": "{kendo.validation.messages.NotBlank}"
            }
          },
          "newPassword": {
            "required": {
              "message": "{kendo.validation.messages.NotBlank}"
            }
          }
        }
      });

      $("form").kendoEntityForm({
        success: {
          callback: function() {
            notify("修改密码成功，请重新登录");
            window.parent.logout();
            closeCurrentDialog();
          }
        }
      });

      $("#_sub_layout").kendoSplitter({
        orientation: "vertical",
        panes: [{
          collapsible: false
        }, {
          collapsible: false,
          resizable: false,
          scrollable: false,
          size: "40px"
        }]
      });

    });
  </script>
</body>

</html>
